<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>DJ Booking</title>
  <link rel="icon" href="favicon.png" type="image/png">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
  <style>
    body {
      background: linear-gradient(to right, #6a11cb, #2575fc);
      color: white;
      font-family: sans-serif;
      display: flex;
      flex-direction: column;
      align-items: center;
      padding-top: 50px;
    }
    label, input, select {
      display: block;
      margin: 10px 0;
    }
    input, select {
      padding: 10px;
      font-size: 16px;
      width: 250px;
      border-radius: 5px;
      border: none;
    }
    button {
      margin-top: 20px;
      padding: 12px 25px;
      background-color: #25D366;
      color: white;
      border: none;
      border-radius: 5px;
      font-size: 18px;
      cursor: pointer;
    }
    @media (max-width: 400px) {
      body {
        font-size: 14px;
      }
      input, select, button {
        font-size: 13px;
      }
    }
  </style>
</head>
<body>

  <h2>Book Your DJ</h2>

  <form id="bookingForm">
    <label for="name">Your Name:</label>
    <input type="text" id="name" placeholder="e.g. John" required>

    <label for="package">Choose a Package:</label>
    <select id="package" required>
      <option value="" disabled selected>Select a package</option>
      <option value="Standard">Standard Package - R300/hr</option>
      <option value="Premium">Premium Package - R350/hr</option>
    </select>

    <label for="hours">Number of Hours:</label>
    <input type="number" id="hours" min="1" placeholder="e.g. 3" required>

    <label for="date">When is your party?</label>
    <input type="date" id="date" required>

    <button type="submit">Send to WhatsApp</button>
  </form>

<script>
  document.getElementById("bookingForm").addEventListener("submit", async function(e) {
    e.preventDefault();

    const name = document.getElementById("name").value;
    const packageChoice = document.getElementById("package").value;
    const hours = parseInt(document.getElementById("hours").value);
    const date = document.getElementById("date").value;

    const rate = packageChoice === "Standard" ? 300 : 350;
    const total = rate * hours;

    const message = `Hi, my name is ${name}. I want to book the ${packageChoice} Package for ${hours} hour(s) on ${date}. Total price: R${total}.`;

    // PDF GENERATION
    const { jsPDF } = window.jspdf;
    const doc = new jsPDF();

    doc.setFont("helvetica", "bold");
    doc.setFontSize(20);
    doc.text("KERU BEATS - Booking Invoice", 20, 20);

    doc.setFont("helvetica", "normal");
    doc.setFontSize(14);
    doc.text(`Name: ${name}`, 20, 40);
    doc.text(`Package: ${packageChoice} Package`, 20, 50);
    doc.text(`Date: ${date}`, 20, 60);
    doc.text(`Hours: ${hours}`, 20, 70);
    doc.text(`Rate: R${rate}/hr`, 20, 80);
    doc.setFont("helvetica", "bold");
    doc.text(`Total Price: R${total}`, 20, 100);

    doc.setFont("helvetica", "italic");
    doc.setFontSize(12);
    doc.text("This is your official booking invoice. Prices are fixed and verified by KERU BEATS.", 20, 120);

    doc.save(`KERU_Invoice_${name}.pdf`);

    // WhatsApp redirect
    const phone = "27677801555";
    const url = `https://wa.me/${phone}?text=${encodeURIComponent(message)}`;
    window.open(url, "_blank");
  });
</script>

</body>
</html>